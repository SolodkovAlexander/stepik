Давайте напишем простой аллокатор.
N.B. Для получения баллов дефрагментацию делать не требуется, но очень рекомендуется сделать ее для самотренировки. 
Для того, чтобы ее сделать, придется реализовывать умные указатели, инвариантные относительно позиции блока памяти!
N.B. ReAlloc должен сохранять данные в блоке. То есть это не просто пара Free + Alloc.